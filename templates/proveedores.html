{% extends "base.html" %}
{% block content %}
<main>

  <h1 class="titulo">Gestión de Proveedores</h1>

  {% if mensaje %}
    <div class="alerta-exito">{{ mensaje }}</div>
  {% endif %}

  <!-- === FORMULARIO PARA AGREGAR PROVEEDOR === -->
  <section class="formulario-proveedor">
    <h2>Agregar nuevo proveedor</h2>
    <form action="/proveedores/agregar" method="post">
      <label for="nit">NIT:</label>
      <input type="text" id="nit" name="nit" required>

      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required>

      <label for="contacto">Contacto:</label>
      <input type="text" id="contacto" name="contacto" required>

      <button type="submit" class="btn-agregar">Agregar</button>
    </form>
  </section>

  <!-- === LISTA DE PROVEEDORES === -->
  <section class="lista-proveedores">
    <h2>Lista de Proveedores</h2>

    <table class="tabla-proveedores">
      <thead>
        <tr>
          <th>NIT</th>
          <th>Nombre</th>
          <th>Contacto</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody>
        {% for proveedor in proveedores %}
        <tr>
          <td>{{ proveedor.nit }}</td>
          <td>{{ proveedor.nombre }}</td>
          <td>{{ proveedor.contacto }}</td>
          <td>
            <form action="/proveedores/eliminar/{{ proveedor.nit }}" method="post" style="display:inline;">
              <button type="submit" class="btn-eliminar" onclick="return confirm('¿Eliminar este proveedor?');">
                Eliminar
              </button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </section>

  <!-- === BOTONES DE NAVEGACIÓN === -->
  <div class="button-container">
    <button class="volver-button" onclick="window.location.href='/'">Inicio</button>
    <button class="eliminados-button" onclick="window.location.href='/proveedoresE/'">Eliminados</button>
  </div>

</main>
{% endblock %}
